import flet as ft
import json

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–µ—Ä–µ—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —Ñ–∞–π–ª—É user_data.json
def reload_user_data():
    with open("user_data.json", "r", encoding="utf-8") as file:
        return json.load(file)  # –ü–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –∑ —Ñ–∞–π–ª—É —É –≤–∏–≥–ª—è–¥—ñ —Å–ª–æ–≤–Ω–∏–∫–∞

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
def create_header():
    return ft.Container(
        content=ft.Text(
            "–ê—Å–∏—Å—Ç–µ–Ω—Ç: –ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è —Ä—ñ–≤–Ω—è Ô∏è",  # –¢–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
            size=30,  # –†–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É
            color="#FFD700",  # –ö–æ–ª—ñ—Ä —à—Ä–∏—Ñ—Ç—É
            weight=ft.FontWeight.BOLD,  # –ñ–∏—Ä–Ω–∏–π —à—Ä–∏—Ñ—Ç
            text_align=ft.TextAlign.CENTER,  # –í–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –ø–æ —Ü–µ–Ω—Ç—Ä—É
        ),
        padding=20,  # –í—ñ–¥—Å—Ç—É–ø–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        alignment=ft.alignment.center,  # –í–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    )

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
def create_user_status(navigate_to_user_details):
    updated_data = reload_user_data()  # –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    return ft.Container(
        content=ft.Column(
            [
                ft.Text(f"üî∞ –†—ñ–≤–µ–Ω—å: {updated_data['level']}", size=18, color="#FFD700", weight=ft.FontWeight.BOLD),
                ft.Text(f"üß™ –î–æ—Å–≤—ñ–¥: {updated_data['experience']}/100", size=18, color="#FFFFFF"),
                ft.ElevatedButton("–î–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞", on_click=lambda _: navigate_to_user_details()),  # –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ –¥–µ—Ç–∞–ª–µ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
            ],
            spacing=10,  # –ü—Ä–æ—Å—Ç—ñ—Ä –º—ñ–∂ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏
        ),
        padding=20,  # –í—ñ–¥—Å—Ç—É–ø–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        margin=10,  # –ó–æ–≤–Ω—ñ—à–Ω—ñ –≤—ñ–¥—Å—Ç—É–ø–∏
        bgcolor="#4A4A6A",  # –ö–æ–ª—ñ—Ä —Ñ–æ–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        border_radius=15,  # –†–∞–¥—ñ—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    )

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞–Ω–µ–ª—ñ –ª–æ–≥—ñ–≤
def create_log_panel():
    return ft.Container(
        content=ft.Column([], spacing=5),  # –ü–∞–Ω–µ–ª—å –¥–ª—è –≤–∏–≤–µ–¥–µ–Ω–Ω—è –ª–æ–≥—ñ–≤
        padding=20,  # –í—ñ–¥—Å—Ç—É–ø–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        margin=10,  # –ó–æ–≤–Ω—ñ—à–Ω—ñ –≤—ñ–¥—Å—Ç—É–ø–∏
        bgcolor="#2E2E3E",  # –ö–æ–ª—ñ—Ä —Ñ–æ–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        border_radius=15,  # –†–∞–¥—ñ—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—è
        expand=True,  # –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä
    )

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–ª—è –≤–≤–æ–¥—É –∫–æ–º–∞–Ω–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
def create_user_input(on_submit):
    return ft.TextField(
        label="–í–≤–µ–¥—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É...('–¥–æ–ø–æ–º–æ–≥–∞')",  # –ü—ñ–¥–∫–∞–∑–∫–∞ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
        label_style=ft.TextStyle(color="#B0B0B0"),  # –°—Ç–∏–ª—å –ø—ñ–¥–∫–∞–∑–∫–∏
        border_color="#FFD700",  # –ö–æ–ª—ñ—Ä –º–µ–∂—ñ
        color="#FFFFFF",  # –ö–æ–ª—ñ—Ä —Ç–µ–∫—Å—Ç—É
        cursor_color="#FFD700",  # –ö–æ–ª—ñ—Ä –∫—É—Ä—Å–æ—Ä–∞
        on_submit=lambda e: on_submit(e.control.value),  # –û–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ Enter
    )
